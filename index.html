<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Phrase Inpainting</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Arimo&family=Varela+Round&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Literata&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="./assets/js/index.js"></script>
</head>

<body>
  <header class="page-header">
    <h1 class="">MUSIC PHRASE INPAINTING USING LONG-TERM REPRESENTATION AND CONTRASTIVE LOSS
</h1>
    <h2 class="">Inpaint the melody  between the past and the future contexts</h2>
  </header>
  <main>
    <section id="inpainted-music">
      <h2>Melody inpainted by different models</h2>
      <p>Examples of the inpainted results of our proposed model and the baselines when the past and the future contexts are
        eight and four bars apart respectively. Inpainted melodies show that the contrastive loss and long-term representation play the important role in melodious inpainting. The inpainted parts generated by models are in orange color.</p>

      <section id="Demos in the original paper">
        <h2>Our proposed model VS Baseline</h2>
      <section id="inpainted-music-song1">
        <h3>Danny boy</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/dannyboy/Dannyboy.mid">Our proposed model</a>
          <a
            midi-url="songs/inpainted-music/dannyboy/Dannyboy_nocllr.mid">Baseline</a>
        </div>
        <midi-visualizer id='inpainted-music-song1-visualizer'
          src="songs/inpainted-music/dannyboy/Dannyboy.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song1-player'
          src="songs/inpainted-music/dannyboy/Dannyboy.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song1-visualizer">
        </midi-player>
      </section>
              <section id="inpainted-music-song2">
        <h3>Oh, Susanna</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/ohsusanna/ohsusana.mid">Our proposed model</a>
          <a
            midi-url="songs/inpainted-music/ohsusanna/ohsusanna_bl.mid">Baseline</a>
        </div>
        <midi-visualizer id='inpainted-music-song2-visualizer'
          src="songs/inpainted-music/ohsusanna/ohsusana.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song2-player'
          src="songs/inpainted-music/ohsusanna/ohsusana.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song2-visualizer">
        </midi-player>
      </section>

               
      <section id="inpainted-music-song_4">
        <h3>Demo 01</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/demo1/ours.mid">Our proposed model</a>
          <a
            midi-url="songs/inpainted-music/demo1/ours_wo_clandrl.mid">Baseline</a>
        </div>
        <midi-visualizer id='inpainted-music-song_4-visualizer'
          src="songs/inpainted-music/demo1/ours.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song_4-player'
          src="songs/inpainted-music/demo1/ours.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song_4-visualizer">
        </midi-player>
      </section>

                <section id="inpainted-music-song_5">
        <h3>Demo 02</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/demo4/our.mid">Our proposed model</a>
          <a
            midi-url="songs/inpainted-music/demo4/our_wo_clrl.mid">Baseline</a>
        </div>
        <midi-visualizer id='inpainted-music-song_5-visualizer'
          src="songs/inpainted-music/demo4/our.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song_5-player'
          src="songs/inpainted-music/demo4/our.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song_5-visualizer">
        </midi-player>
      </section>

        <section id="inpainted-music-with-variation">
        <h2>Generation with Variation </h2>

      <section id="inpainted-music-song_2">
        <h3>Oh, Susanna</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/ohsusanna/ohsusana.mid">Our proposed model</a>
          <a
            midi-url="songs/inpainted-music/ohsusanna/ohsusana_bianquando.mid">*Our proposed model </a>
        </div>
        <midi-visualizer id='inpainted-music-song_2-visualizer'
          src="songs/inpainted-music/ohsusanna/ohsusana.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song_2-player'
          src="songs/inpainted-music/ohsusanna/ohsusana.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song_2-visualizer">
        </midi-player>
        <p>*We do rhythm variation on future four bars. The melody is generated by our proposed model.</p>
      </section>

      <section id="inpainted-music-song3">
        <h3>Fr√®re Jacques</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/FrereJacques/ours_abab.mid">Our proposed model</a>
          <a
            midi-url="songs/inpainted-music/FrereJacques/ours_aabb.mid">*Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song3-visualizer'
          src="songs/inpainted-music/FrereJacques/ours_abab.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song3-player'
          src="songs/inpainted-music/FrereJacques/ours_aabb.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song3-visualizer">
        </midi-player>
         <p> *The original song is in 'ABAB' structure. The inpainted melody (Structure ABAB) is generated by our proposed model. We changed the song structure to AABB.  Our generative result follows the new structure. </p>
      </section>

        <section id="Comparison by four models">
      <h2>Ablation Study</h2>
      <p>The inpainted melodies generated from our proposed model without long-term representations (Ours w/o l.r.), from our proposed model without contrastive loss (Ours w/o c.l.) and from our proposed model (Our proposed model).</p>
      <section id="inpainted-music-song4">
        <h3>Demo 01</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/demo1/ours_wo_lr.mid">Ours w/o l.r.</a>
          <a
            midi-url="songs/inpainted-music/demo1/ours_wo_cl.mid">Ours w/o c.l.</a>
          <a 
            midi-url="songs/inpainted-music/demo1/ours.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song4-visualizer'
          src="songs/inpainted-music/demo1/ours_wo_lr.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song4-player'
          src="songs/inpainted-music/demo1/ours_wo_lr.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song4-visualizer">
        </midi-player>
      </section>

          <section id="inpainted-music-song5">
        <h3>Demo 02</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/demo4/our_wo_rl.mid">Ours w/o l.r.</a>
          <a 
            midi-url="songs/inpainted-music/demo4/our_wo_cl.mid">Ours w/o c.l.</a>
          <a 
            midi-url="songs/inpainted-music/demo4/our.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song5-visualizer'
          src="songs/inpainted-music/demo4/our_wo_rl.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song5-player'
          src="songs/inpainted-music/demo4/our_wo_rl.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song5-visualizer">
        </midi-player>
      </section>

          <section id="More generative demos in our test dataset">
      <h2>More generative results in our test dataset</h2>
      <section id="inpainted-music-song6">
        <h3>Demo 03</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo3.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song6-visualizer'
          src="songs/inpainted-music/part3/demo3.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song6-player'
          src="songs/inpainted-music/part3/demo3.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song6-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song7">
        <h3>Demo 04</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo4.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song7-visualizer'
          src="songs/inpainted-music/part3/demo4.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song7-player'
          src="songs/inpainted-music/part3/demo4.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song7-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song8">
        <h3>Demo 05</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo5.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song8-visualizer'
          src="songs/inpainted-music/part3/demo5.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song8-player'
          src="songs/inpainted-music/part3/demo5.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song8-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song9">
        <h3>Demo 06</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo6.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song9-visualizer'
          src="songs/inpainted-music/part3/demo6.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song9-player'
          src="songs/inpainted-music/part3/demo6.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song9-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song10">
        <h3>Demo 07</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo7.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song10-visualizer'
          src="songs/inpainted-music/part3/demo7.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song10-player'
          src="songs/inpainted-music/part3/demo7.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song10-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song11">
        <h3>Demo 08</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo8.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song11-visualizer'
          src="songs/inpainted-music/part3/demo8.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song11-player'
          src="songs/inpainted-music/part3/demo8.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song11-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song12">
        <h3>Demo 09</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo9.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song12-visualizer'
          src="songs/inpainted-music/part3/demo9.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song12-player'
          src="songs/inpainted-music/part3/demo9.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song12-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song13">
        <h3>Demo 10</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo10.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song13-visualizer'
          src="songs/inpainted-music/part3/demo10.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song13-player'
          src="songs/inpainted-music/part3/demo10.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song13-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song14">
        <h3>Demo 11</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo11.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song14-visualizer'
          src="songs/inpainted-music/part3/demo11.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song14-player'
          src="songs/inpainted-music/part3/demo11.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song14-visualizer">
        </midi-player>
      </section>

            <section id="inpainted-music-song15">
        <h3>Demo 12</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo12.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song15-visualizer'
          src="songs/inpainted-music/part3/demo12.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song15-player'
          src="songs/inpainted-music/part3/demo12.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song15-visualizer">
        </midi-player>
      </section>


                <section id="inpainted-music-song16">
        <h3>Demo 13</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo13.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song16-visualizer'
          src="songs/inpainted-music/part3/demo13.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song16-player'
          src="songs/inpainted-music/part3/demo13.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song16-visualizer">
        </midi-player>
      </section>


                <section id="inpainted-music-song17">
        <h3>Demo 14</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo14.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song17-visualizer'
          src="songs/inpainted-music/part3/demo14.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song17-player'
          src="songs/inpainted-music/part3/demo14.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song17-visualizer">
        </midi-player>
      </section>


                <section id="inpainted-music-song18">
        <h3>Demo 15</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo15.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song18-visualizer'
          src="songs/inpainted-music/part3/demo15.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song18-player'
          src="songs/inpainted-music/part3/demo15.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song18-visualizer">
        </midi-player>
      </section>
            
            
            <section id="inpainted-music-song19">
        <h3>Demo 16</h3>
        <div class='anchor-container'>
          <a class='selected'
            midi-url="songs/inpainted-music/part3/demo16.mid">Our proposed model</a>
        </div>
        <midi-visualizer id='inpainted-music-song19-visualizer'
          src="songs/inpainted-music/part3/demo16.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song19-player'
          src="songs/inpainted-music/part3/demo16.mid"
          sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
          visualizer="#inpainted-music-song19-visualizer">
        </midi-player>
      </section>
            
    </section>
    <footer class="site-footer">
      <span class="site-footer-credit">We use <a target='_blank' href='https://github.com/cifkao/html-midi-player'>html_midi_player</a> built and kindly shared publicly by <a target='_blank' href="https://ondrej.cifka.com">Ond≈ôej C√≠fka</a>
        for visualizing the piano rolls of the MIDI files. We have also made this implementation
        of the website public at the <a target='_blank' href="https://github.com/SqWei17/inpaint_demo_page">Github repository 1</a>. For the partial framework of this web page, we cite <a target='_blank' href="https://github.com/jackyhsiung/piano-infilling-demo">Github repository 2</a>.
      </span>
    </footer>
  </main>
  <script
    src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.21.0/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.1.0"></script>

</body>

</html>
